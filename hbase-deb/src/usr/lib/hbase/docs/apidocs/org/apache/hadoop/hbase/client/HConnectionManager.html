<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Sat Mar 29 17:19:17 PDT 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>HConnectionManager (HBase 0.98.1-hadoop2 API)</title>
<meta name="date" content="2014-03-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HConnectionManager (HBase 0.98.1-hadoop2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HConnectionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/client/HTable.html" title="class in org.apache.hadoop.hbase.client"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/client/HConnectionManager.html" target="_top">Frames</a></li>
<li><a href="HConnectionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.client</div>
<h2 title="Class HConnectionManager" class="title">Class HConnectionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.client.HConnectionManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@InterfaceAudience.Public
@InterfaceStability.Evolving
public class <span class="strong">HConnectionManager</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A non-instantiable class that manages creation of <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a>s.
 <p>The simplest way to use this class is by using <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#createConnection(org.apache.hadoop.conf.Configuration)"><code>createConnection(Configuration)</code></a>.
 This creates a new <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> to the cluster that is managed by the caller.
 From this <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> <a href="../../../../../org/apache/hadoop/hbase/client/HTableInterface.html" title="interface in org.apache.hadoop.hbase.client"><code>HTableInterface</code></a> implementations are retrieved
 with <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html#getTable(byte[])"><code>HConnection.getTable(byte[])</code></a>. Example:
 <pre>
 <code>HConnection connection = HConnectionManager.createConnection(config);
 HTableInterface table = connection.getTable("table1");
 try {
   // Use the table as needed, for a single operation and a single thread
 } finally {
   table.close();
   connection.close();
 }
 </code></pre>
 <p>The following logic and API will be removed in the future:
 <p>This class has a static Map of <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> instances keyed by
 <code>Configuration</code>; all invocations of <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#getConnection(org.apache.hadoop.conf.Configuration)"><code>getConnection(Configuration)</code></a>
 that pass the same <code>Configuration</code> instance will be returned the same
 <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> instance (Adding properties to a Configuration
 instance does not change its object identity; for more on how this is done see
 <code>HConnectionKey</code>).  Sharing <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a>
 instances is usually what you want; all clients of the <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a>
 instances share the HConnections' cache of Region locations rather than each
 having to discover for itself the location of meta, etc.  It makes
 sense for the likes of the pool of HTables class <code>HTablePool</code>, for
 instance (If concerned that a single <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> is insufficient
 for sharing amongst clients in say an heavily-multithreaded environment,
 in practise its not proven to be an issue.  Besides, <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> is
 implemented atop Hadoop RPC and as of this writing, Hadoop RPC does a
 connection per cluster-member, exclusively).

 <p>But sharing connections makes clean up of <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> instances a little awkward.
 Currently, clients cleanup by calling <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#deleteConnection(org.apache.hadoop.conf.Configuration)"><code>deleteConnection(Configuration)</code></a>. This will
 shutdown the zookeeper connection the HConnection was using and clean up all
 HConnection resources as well as stopping proxies to servers out on the
 cluster. Not running the cleanup will not end the world; it'll
 just stall the closeup some and spew some zookeeper connection failed
 messages into the log.  Running the cleanup on a <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> that is
 subsequently used by another will cause breakage so be careful running
 cleanup.
 <p>To create a <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> that is not shared by others, you can
 create a new <code>Configuration</code> instance, pass this new instance to
 <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#getConnection(org.apache.hadoop.conf.Configuration)"><code>getConnection(Configuration)</code></a>, and then when done, close it up by
 doing something like the following:
 <pre>
 <code>Configuration newConfig = new Configuration(originalConf);
 HConnection connection = HConnectionManager.getConnection(newConfig);
 // Use the connection to your hearts' delight and then when done...
 HConnectionManager.deleteConnection(newConfig, true);
 </code>
 </pre>
 <p>Cleanup used to be done inside in a shutdown hook.  On startup we'd
 register a shutdown hook that called <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#deleteAllConnections()"><code>deleteAllConnections()</code></a>
 on its way out but the order in which shutdown hooks run is not defined so
 were problematic for clients of HConnection that wanted to register their
 own shutdown hooks so we removed ours though this shifts the onus for
 cleanup to the client.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#MAX_CACHED_CONNECTION_INSTANCES">MAX_CACHED_CONNECTION_INSTANCES</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#RETRIES_BY_SERVER_KEY">RETRIES_BY_SERVER_KEY</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#createConnection(org.apache.hadoop.conf.Configuration)">createConnection</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Create a new HConnection instance using the passed <code>conf</code> instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#createConnection(org.apache.hadoop.conf.Configuration, java.util.concurrent.ExecutorService)">createConnection</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;pool)</code>
<div class="block">Create a new HConnection instance using the passed <code>conf</code> instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#createConnection(org.apache.hadoop.conf.Configuration, java.util.concurrent.ExecutorService, org.apache.hadoop.hbase.security.User)">createConnection</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;pool,
                org.apache.hadoop.hbase.security.User&nbsp;user)</code>
<div class="block">Create a new HConnection instance using the passed <code>conf</code> instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#createConnection(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.security.User)">createConnection</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                org.apache.hadoop.hbase.security.User&nbsp;user)</code>
<div class="block">Create a new HConnection instance using the passed <code>conf</code> instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#deleteAllConnections()">deleteAllConnections</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>kept for backward compatibility, but the behavior is broken. HBASE-8983</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#deleteAllConnections(boolean)">deleteAllConnections</a></strong>(boolean&nbsp;staleConnection)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#deleteConnection(org.apache.hadoop.conf.Configuration)">deleteConnection</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;&nbsp;</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#deleteStaleConnection(org.apache.hadoop.hbase.client.HConnection)">deleteStaleConnection</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;connection)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#findException(java.lang.Object)">findException</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;exception)</code>
<div class="block">Look for an exception we know in the remote exception:
 - hadoop.ipc wrapped exceptions
 - nested exceptions
 
 Looks for: RegionMovedException / RegionOpeningException / RegionTooBusyException</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#getConnection(org.apache.hadoop.conf.Configuration)">getConnection</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.hbase.client.NonceGenerator</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#injectNonceGeneratorForTesting(org.apache.hadoop.hbase.client.HConnection, org.apache.hadoop.hbase.client.NonceGenerator)">injectNonceGeneratorForTesting</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;conn,
                              org.apache.hadoop.hbase.client.NonceGenerator&nbsp;cnm)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#setServerSideHConnectionRetries(org.apache.hadoop.conf.Configuration, java.lang.String, org.apache.commons.logging.Log)">setServerSideHConnectionRetries</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;c,
                               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sn,
                               org.apache.commons.logging.Log&nbsp;log)</code>
<div class="block">Set the number of retries to use serverside when trying to communicate
 with another server over <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="RETRIES_BY_SERVER_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RETRIES_BY_SERVER_KEY</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> RETRIES_BY_SERVER_KEY</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.client.HConnectionManager.RETRIES_BY_SERVER_KEY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MAX_CACHED_CONNECTION_INSTANCES">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MAX_CACHED_CONNECTION_INSTANCES</h4>
<pre>public static final&nbsp;int MAX_CACHED_CONNECTION_INSTANCES</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="injectNonceGeneratorForTesting(org.apache.hadoop.hbase.client.HConnection, org.apache.hadoop.hbase.client.NonceGenerator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>injectNonceGeneratorForTesting</h4>
<pre>public static&nbsp;org.apache.hadoop.hbase.client.NonceGenerator&nbsp;injectNonceGeneratorForTesting(<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;conn,
                                                                           org.apache.hadoop.hbase.client.NonceGenerator&nbsp;cnm)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conn</code> - The connection for which to replace the generator.</dd><dd><code>cnm</code> - Replaces the nonce generator used, for testing.</dd>
<dt><span class="strong">Returns:</span></dt><dd>old nonce generator.</dd></dl>
</li>
</ul>
<a name="getConnection(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;getConnection(org.apache.hadoop.conf.Configuration&nbsp;conf)
                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Get the connection that goes with the passed <code>conf</code> configuration instance.
 If no current connection exists, method creates a new connection and keys it using
 connection-specific properties from the passed <code>Configuration</code>; see
 <code>HConnectionKey</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - configuration</dd>
<dt><span class="strong">Returns:</span></dt><dd>HConnection object for <code>conf</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/ZooKeeperConnectionException.html" title="class in org.apache.hadoop.hbase">ZooKeeperConnectionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createConnection(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createConnection</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;createConnection(org.apache.hadoop.conf.Configuration&nbsp;conf)
                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a new HConnection instance using the passed <code>conf</code> instance.
 <p>Note: This bypasses the usual HConnection life cycle management done by
 <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#getConnection(org.apache.hadoop.conf.Configuration)"><code>getConnection(Configuration)</code></a>. The caller is responsible for
 calling <a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io"><code>Closeable.close()</code></a> on the returned connection instance.

 This is the recommended way to create HConnections.
 <code>HConnection connection = HConnectionManager.createConnection(conf);
 HTableInterface table = connection.getTable("mytable");
 table.get(...);
 ...
 table.close();
 connection.close();
 </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - configuration</dd>
<dt><span class="strong">Returns:</span></dt><dd>HConnection object for <code>conf</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/ZooKeeperConnectionException.html" title="class in org.apache.hadoop.hbase">ZooKeeperConnectionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createConnection(org.apache.hadoop.conf.Configuration, java.util.concurrent.ExecutorService)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createConnection</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;createConnection(org.apache.hadoop.conf.Configuration&nbsp;conf,
                           <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;pool)
                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a new HConnection instance using the passed <code>conf</code> instance.
 <p>Note: This bypasses the usual HConnection life cycle management done by
 <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#getConnection(org.apache.hadoop.conf.Configuration)"><code>getConnection(Configuration)</code></a>. The caller is responsible for
 calling <a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io"><code>Closeable.close()</code></a> on the returned connection instance.
 This is the recommended way to create HConnections.
 <code>ExecutorService pool = ...;
 HConnection connection = HConnectionManager.createConnection(conf, pool);
 HTableInterface table = connection.getTable("mytable");
 table.get(...);
 ...
 table.close();
 connection.close();
 </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - configuration</dd><dd><code>pool</code> - the thread pool to use for batch operation in HTables used via this HConnection</dd>
<dt><span class="strong">Returns:</span></dt><dd>HConnection object for <code>conf</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/ZooKeeperConnectionException.html" title="class in org.apache.hadoop.hbase">ZooKeeperConnectionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createConnection(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.security.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createConnection</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;createConnection(org.apache.hadoop.conf.Configuration&nbsp;conf,
                           org.apache.hadoop.hbase.security.User&nbsp;user)
                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a new HConnection instance using the passed <code>conf</code> instance.
 <p>Note: This bypasses the usual HConnection life cycle management done by
 <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#getConnection(org.apache.hadoop.conf.Configuration)"><code>getConnection(Configuration)</code></a>. The caller is responsible for
 calling <a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io"><code>Closeable.close()</code></a> on the returned connection instance.
 This is the recommended way to create HConnections.
 <code>ExecutorService pool = ...;
 HConnection connection = HConnectionManager.createConnection(conf, pool);
 HTableInterface table = connection.getTable("mytable");
 table.get(...);
 ...
 table.close();
 connection.close();
 </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - configuration</dd><dd><code>user</code> - the user the connection is for</dd>
<dt><span class="strong">Returns:</span></dt><dd>HConnection object for <code>conf</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/ZooKeeperConnectionException.html" title="class in org.apache.hadoop.hbase">ZooKeeperConnectionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createConnection(org.apache.hadoop.conf.Configuration, java.util.concurrent.ExecutorService, org.apache.hadoop.hbase.security.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createConnection</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;createConnection(org.apache.hadoop.conf.Configuration&nbsp;conf,
                           <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;pool,
                           org.apache.hadoop.hbase.security.User&nbsp;user)
                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a new HConnection instance using the passed <code>conf</code> instance.
 <p>Note: This bypasses the usual HConnection life cycle management done by
 <a href="../../../../../org/apache/hadoop/hbase/client/HConnectionManager.html#getConnection(org.apache.hadoop.conf.Configuration)"><code>getConnection(Configuration)</code></a>. The caller is responsible for
 calling <a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io"><code>Closeable.close()</code></a> on the returned connection instance.
 This is the recommended way to create HConnections.
 <code>ExecutorService pool = ...;
 HConnection connection = HConnectionManager.createConnection(conf, pool);
 HTableInterface table = connection.getTable("mytable");
 table.get(...);
 ...
 table.close();
 connection.close();
 </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - configuration</dd><dd><code>pool</code> - the thread pool to use for batch operation in HTables used via this HConnection</dd><dd><code>user</code> - the user the connection is for</dd>
<dt><span class="strong">Returns:</span></dt><dd>HConnection object for <code>conf</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/ZooKeeperConnectionException.html" title="class in org.apache.hadoop.hbase">ZooKeeperConnectionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="deleteConnection(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteConnection</h4>
<pre>public static&nbsp;void&nbsp;deleteConnection(org.apache.hadoop.conf.Configuration&nbsp;conf)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i></i></div>
<div class="block">Delete connection information for the instance specified by passed configuration.
 If there are no more references to the designated connection connection, this method will
 then close connection to the zookeeper ensemble and let go of all associated resources.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - configuration whose identity is used to find <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> instance.</dd></dl>
</li>
</ul>
<a name="deleteStaleConnection(org.apache.hadoop.hbase.client.HConnection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteStaleConnection</h4>
<pre>public static&nbsp;void&nbsp;deleteStaleConnection(<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;connection)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i></i></div>
<div class="block">Cleanup a known stale connection.
 This will then close connection to the zookeeper ensemble and let go of all resources.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>connection</code> - </dd></dl>
</li>
</ul>
<a name="deleteAllConnections(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllConnections</h4>
<pre>public static&nbsp;void&nbsp;deleteAllConnections(boolean&nbsp;staleConnection)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i></i></div>
<div class="block">Delete information for all connections. Close or not the connection, depending on the
  staleConnection boolean and the ref count. By default, you should use it with
  staleConnection to true.</div>
</li>
</ul>
<a name="deleteAllConnections()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllConnections</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public static&nbsp;void&nbsp;deleteAllConnections()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>kept for backward compatibility, but the behavior is broken. HBASE-8983</i></div>
<div class="block">Delete information for all connections..</div>
</li>
</ul>
<a name="findException(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findException</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;findException(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;exception)</pre>
<div class="block">Look for an exception we know in the remote exception:
 - hadoop.ipc wrapped exceptions
 - nested exceptions
 
 Looks for: RegionMovedException / RegionOpeningException / RegionTooBusyException</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>null if we didn't find the exception, the exception otherwise.</dd></dl>
</li>
</ul>
<a name="setServerSideHConnectionRetries(org.apache.hadoop.conf.Configuration, java.lang.String, org.apache.commons.logging.Log)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setServerSideHConnectionRetries</h4>
<pre>public static&nbsp;void&nbsp;setServerSideHConnectionRetries(org.apache.hadoop.conf.Configuration&nbsp;c,
                                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sn,
                                   org.apache.commons.logging.Log&nbsp;log)</pre>
<div class="block">Set the number of retries to use serverside when trying to communicate
 with another server over <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a>.  Used updating catalog
 tables, etc.  Call this method before we create any Connections.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - The Configuration instance to set the retries into.</dd><dd><code>log</code> - Used to log what we set in here.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HConnectionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/client/HTable.html" title="class in org.apache.hadoop.hbase.client"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/client/HConnectionManager.html" target="_top">Frames</a></li>
<li><a href="HConnectionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
